!!! Strict
%html{:lang => "en", :xmlns => "http://www.w3.org/1999/xhtml"}
  %head
    %meta{:content => "text/html; charset=utf-8", "http-equiv" => "Content-Type"}
    %title Auction Floor
    =stylesheet_link_tag :layout, :theme, 'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css'
    %script{:type => 'text/javascript',
            :src => 'http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'}
    %script{:type => 'text/javascript',
            :src => 'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js'}
    %script{:type => 'text/javascript', :src => '/javascripts/jquery.tmpl.js'}
    %script{:type => 'text/javascript', :src => '/javascripts/json2.js'}
    %script{:type => 'text/javascript', :src => '/javascripts/knockout-1.1.0.js'}
  %body
    #container
      #header
        %h1=link_to "Auction Floor"
        #user-navigation
          %ul.wat-cf
            %li=link_to 'Logout', '/admin/sessions/destroy', :method => :delete
        #main-navigation
          %ul.wat-cf
            %li
              =link_to "Auctions", "/auctions"
      #wrapper.wat-cf
        .flash=[:error, :warning, :notice].map { |type| flash_tag(type, :class => "message #{type}") }.join
        #main
          =yield
          #footer
            .block
              %p
                Copyright &copy; #{Time.now.year} Pliosoft - Auction Floor
        -# Yeah - it's a pretty ugly way to determine the partial to render... TODO 
        #sidebar=@auction.nil? ? "": partial('/auctions/sidebar')