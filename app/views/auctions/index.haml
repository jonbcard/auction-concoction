:javascript
  viewModel = {
    byRange : new ko.observable("#{params[:by_range] || 'false'}")
  }
  $(function(){
    ko.applyBindings(viewModel, document.getElementById("search"));
  });

  function clearDates(){
    $("#start_date").val("");
    $("#end_date").val("");
  }
-content_for(:context_panel) do
  #search.block
    %h3 Search For Auctions
    .content
      %form.form{:method => "get"}
        .group
          %label
            =radio_button_tag(:by_range, :value => "false", :"data-bind" => "checked:byRange", :onClick => "clearDates()")
            Current and Upcoming
        .group
          %label
            =radio_button_tag(:by_range, :value => "true", :"data-bind" => "checked:byRange")
            By Range:
        .group{:"data-bind" => "visible: byRange() == 'true'"}
          %label{:for => "start_date"} Start Date:
          %input#start_date.text_field{:name =>"start_date", :"data-type" => "date", :value => params[:start_date]}
        .group{:"data-bind" => "visible:byRange() == 'true'"}
          %label{:for => "end_date"} End Date:
          %input#end_date.text_field{:name =>"end_date", :"data-type" => "date", :value => params[:end_date]}
        .group=submit_tag("Search", :class => :form_button)
.block
  .secondary-navigation
    %ul.wat-cf
      %li.first.active=link_to pat(:list), url(:auctions, :index)
      %li=link_to pat(:new), url(:auctions, :new)
  .content
    %h2.title=params[:by_range] == "true" ? "Auctions by Date Range" : "Current and Upcoming Auctions"
    .inner
      =simple_table(@auctions,[:title,:auction_date,:description],
            :edit =>   "auctions/edit/${row._id}",
            :delete => "auctions/destroy/${row._id}",
            :click =>  "auctions/${row._id}/bidders")
      .actions-bar.wat-cf
        .actions="&nbsp;"